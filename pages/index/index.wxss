/* 基础布局 */
.container { 
  min-height: 100vh; 
  display: flex; 
  flex-direction: column; 
  background: linear-gradient(135deg, rgba(240, 248, 255, 0.6), rgba(230, 255, 250, 0.6)); /* 浅色小清新渐变背景 */
  backdrop-filter: blur(15rpx); /* 毛玻璃效果 */
  position: relative;
  z-index: 0; /* 确保背景在最底层 */
}
.title { 
  text-align: center; 
  font-size: 36rpx; 
  font-weight: 600; 
  margin-top: 49rpx;    /* 顶部边距 - 下移 15rpx（由34rpx调整为49rpx） */
  margin-bottom: -100rpx;  /* 底部边距 - 可调整与转盘距离 */
  margin-left: 24rpx;   /* 左边距 */
  margin-right: 24rpx;  /* 右边距 */
  color: #111; 
}

/* 轮盘容器与轮盘本体 */
.roulette-wheel-container { position: relative; width: 620rpx; height: 620rpx; margin: 0 auto 24rpx; }
.roulette-wheel { position: absolute; width: 100%; height: 100%; border-radius: 50%; overflow: hidden; transition: transform 2.8s cubic-bezier(.24,.8,.26,1); box-shadow: 0 20rpx 40rpx rgba(0,0,0,0.12); }

/* Palette B 渐变（参考附件图片的暖色调色系） */
.roulette-wheel.palette-b { 
  background: conic-gradient(
    #ff6b35 0 30deg,   /* 橙红色 */
    #f7931e 30deg 60deg,   /* 橙色 */
    #ffd23f 60deg 90deg,   /* 黄色 */
    #06ffa5 90deg 120deg,  /* 薄荷绿 */
    #00d4ff 120deg 150deg, /* 天蓝色 */
    #7b68ee 150deg 180deg, /* 中紫色 */
    #ff1493 180deg 210deg, /* 深粉色 */
    #ff69b4 210deg 240deg, /* 热粉色 */
    #ff4500 240deg 270deg, /* 橙红色 */
    #ffa500 270deg 300deg, /* 橙色 */
    #32cd32 300deg 330deg, /* 酸橙绿 */
    #1e90ff 330deg 360deg  /* 道奇蓝 */
  );
  /* 添加转盘边缘包边效果 */
  border: 8rpx solid #ffd700; /* 金色边框 */
  box-shadow: 
    0 20rpx 40rpx rgba(0,0,0,0.12),
    inset 0 0 0 4rpx rgba(255,255,255,0.12),
    0 0 0 12rpx rgba(255,215,0,0.8); /* 外层金色光晕 */
}

/* 轮盘边缘浅色环形装饰 + 手型图案（使用内阴影模拟） */
.roulette-wheel::before { content: none; }
.roulette-wheel::after { content: none; }

/* 每个扇区的容器：负责旋转到对应角度 */
.roulette-item { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform-origin: 50% 50%; }

/* 文案裁剪区域：限定在扇形内部（由JS保证外沿与内沿范围），避免触线 */
.label-clip { position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden; }

/* 径向字符：粗重黑体 + 浅色描边效果，颜色与预览一致 */
.label-ch { position: absolute; left: 50%; top: 50%; font-family: 'PingFang SC','Hiragino Sans GB','Microsoft YaHei','Noto Sans SC',sans-serif; font-weight: 800; font-size: 30rpx; color: #ffffff; text-shadow: 0 1rpx 2rpx rgba(0,0,0,0.35), 0 2rpx 8rpx rgba(0,0,0,0.15); }

/* 固定中心按钮 - 整体黄色设计，参考附件图片 */
.roulette-center { 
  position: absolute; 
  left: 50%; 
  top: 50%; 
  transform: translate(-50%, -50%); 
  z-index: 3; 
  width: 180rpx; 
  height: 180rpx; 
  border-radius: 50%; 
  background: linear-gradient(135deg, #ffd700, #ffed4e); /* 黄色渐变背景 */
  display: flex; 
  align-items: center; 
  justify-content: center; 
  box-shadow: 
    0 8rpx 24rpx rgba(255, 215, 0, 0.4),
    inset 0 0 0 6rpx rgba(255,255,255,0.3),
    0 0 0 4rpx rgba(255, 215, 0, 0.6); /* 金色光晕效果 */
  border: 3rpx solid #ffb347; /* 橙色边框 */
}
.start-button { 
  padding: 0; 
  border-radius: 50%; 
  background: transparent; 
  color: #333; 
  font-size: 32rpx; 
  font-weight: 700; 
  display: flex; 
  align-items: center; 
  justify-content: center;
  width: 100%;
  height: 100%;
  text-shadow: 0 1rpx 2rpx rgba(255,255,255,0.8);
}
/* 移除手型图片，使用纯文字设计 */
.start-hand { display: none; }
/* 移除旧的 .start-icon 定义（若存在则不再使用） */

/* 调色盘：仅保留 A 与 B；移除 C、D */
.roulette-wheel.palette-a {
  background: conic-gradient(
    #0f172a 0 30deg, #1f2937 30deg 60deg, #374151 60deg 90deg, #4b5563 90deg 120deg,
    #6b7280 120deg 150deg, #94a3b8 150deg 180deg, #cbd5e1 180deg 210deg, #e2e8f0 210deg 240deg,
    #9ca3af 240deg 270deg, #64748b 270deg 300deg, #475569 300deg 330deg, #334155 330deg 360deg
  );
}
/* duplicate palette-b removed: prefer Warm Sandstone defined above */
/* 移除 .palette-c 与 .palette-d 的样式（若仍在文件中出现，视为无效） */
.start-icon { width: 70rpx; height: 70rpx; display: inline-block; animation: start-wobble 1.6s ease-in-out infinite; transform-origin: 50% 80%; }

@keyframes start-wobble {
  0% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(-6deg) scale(1.02); }
  50% { transform: rotate(0deg) scale(1); }
  75% { transform: rotate(6deg) scale(1.02); }
  100% { transform: rotate(0deg) scale(1); }
}

/* 多套调色盘（转盘背景） */
.roulette-wheel.palette-a {
  background: conic-gradient(
    #0f172a 0 30deg, #1f2937 30deg 60deg, #374151 60deg 90deg, #4b5563 90deg 120deg,
    #6b7280 120deg 150deg, #94a3b8 150deg 180deg, #cbd5e1 180deg 210deg, #e2e8f0 210deg 240deg,
    #9ca3af 240deg 270deg, #64748b 270deg 300deg, #475569 300deg 330deg, #334155 330deg 360deg
  );
}

/* 新增：Palette F（Sakura Pastel） */
.roulette-wheel.palette-f {
  background: conic-gradient(
    #ffe4e6 0 30deg, #fecdd3 30deg 60deg, #fbcfe8 60deg 90deg, #e9d5ff 90deg 120deg,
    #dbeafe 120deg 150deg, #bae6fd 150deg 180deg, #bbf7d0 180deg 210deg, #dcfce7 210deg 240deg,
    #fef9c3 240deg 270deg, #ffedd5 270deg 300deg, #fde68a 300deg 330deg, #c7d2fe 330deg 360deg
  );
}

/* 新增：Palette G（Neo Pop High Contrast） */
.roulette-wheel.palette-g {
  background: conic-gradient(
    #111827 0 30deg, #f59e0b 30deg 60deg, #0ea5e9 60deg 90deg, #ef4444 90deg 120deg,
    #10b981 120deg 150deg, #a855f7 150deg 180deg, #f43f5e 180deg 210deg, #22c55e 210deg 240deg,
    #eab308 240deg 270deg, #3b82f6 270deg 300deg, #fb7185 300deg 330deg, #9333ea 330deg 360deg
  );
}
/* 已移除 palette-c 与 palette-d （不再使用） */

/* 右上角操作容器：配色 + 刷新 */
.top-actions { position: absolute; right: -28rpx; bottom: -28rpx; z-index: 5; display: flex; align-items: center; gap: 16rpx; }
.top-actions .palette-switch { position: static; width: 64rpx; height: 64rpx; border-radius: 50%; background: rgba(255,255,255,0.9); box-shadow: 0 6rpx 18rpx rgba(0,0,0,0.12); display: flex; align-items: center; justify-content: center; }
.top-actions .palette-wheel { width: 40rpx; height: 40rpx; border-radius: 50%; background: conic-gradient(#ff4d4f, #ff7a45, #ffa940, #fadb14, #52c41a, #13c2c2, #1890ff, #2f54eb, #722ed1, #eb2f96, #ff4d4f); box-shadow: inset 0 0 0 4rpx rgba(255,255,255,0.85); }
.refresh-switch { width: 52rpx; height: 52rpx; padding: 6rpx; border-radius: 50%; background: rgba(255,255,255,0.95); box-shadow: 0 6rpx 18rpx rgba(0,0,0,0.12); }
.refresh-switch:active { transform: scale(0.96) rotate(8deg); transition: transform .15s ease; }
.palette-switch .icon { width: 40rpx; height: 40rpx; }
.palette-wheel { width: 40rpx; height: 40rpx; border-radius: 50%; background: conic-gradient(#ff4d4f, #ff7a45, #ffa940, #fadb14, #52c41a, #13c2c2, #1890ff, #2f54eb, #722ed1, #eb2f96, #ff4d4f); box-shadow: inset 0 0 0 4rpx rgba(255,255,255,0.85); }
.palette-switch:active .palette-wheel { transform: scale(0.96) rotate(8deg); transition: transform .15s ease; }


/* 指针 - 修复为三角形指示器 */
.pointer { 
  position: absolute; 
  top: 50%; 
  left: 50%; 
  width: 0; 
  height: 0; 
  border-left: 12rpx solid transparent; 
  border-right: 12rpx solid transparent; 
  border-bottom: 20rpx solid #ff4d4f; /* 恢复原三角定义，以下用旋转实现180° */
  transform: translate(-50%, -50%) translateY(-320rpx) rotate(180deg); /* 旋转180° 使指向下方 */
  z-index: 3; 
}
.pointer image { display: none; } /* 隐藏hand图片 */

/* 决策浮层（重绘） - 修改为居中显示，向上移动100rpx */
.decision-layer { 
  position: fixed; 
  left: 50%; 
  top: calc(50% - 180rpx); /* 向上移动100rpx - 手动调整此值可上下移动浮层 */
  transform: translate(-50%, -50%); 
  width: 580rpx; 
  height: 300rpx; /* 增加结果浮层高度 */
  padding: 24rpx; 
  border-radius: 24rpx; 
  background: rgba(255,255,255,0.85); 
  box-shadow: 0 12rpx 40rpx rgba(0,0,0,0.15); 
  backdrop-filter: blur(20rpx); 
  -webkit-backdrop-filter: blur(20rpx); 
  z-index: 10; 
}
.dl-header { font-size: 24rpx; letter-spacing: 2rpx; color: #6b7280; margin-bottom: 16rpx; font-weight: 600; }
.dl-body { display: flex; align-items: center; gap: 20rpx; }
.dl-logo { width: 96rpx; height: 96rpx; border-radius: 16rpx; background: #f2f2f2; display: block; object-fit: cover; overflow: hidden; }
.dl-info { flex: 1; min-width: 0; }
.dl-name { font-size: 40rpx; font-weight: 800; color: #111827; line-height: 1.2; }
.dl-type { margin-top: 6rpx; font-size: 26rpx; color: #6b7280; }
.dl-promo { margin-top: 6rpx; font-size: 26rpx; color: #374151; display: none; }
.dl-actions { margin-top: 20rpx; display: flex; gap: 20rpx; }
.dl-btn { flex: 1; height: 80rpx; border-radius: 40rpx; font-size: 28rpx; font-weight: 700; }
.dl-primary { background: #4f9ef8; color: #fff; box-shadow: 0 6rpx 12rpx rgba(79,158,248,0.35); }
.dl-secondary { background: #e5e7eb; color: #374151; }
.decision-title { font-size: 28rpx; color: #333; margin-bottom: 8rpx; }
.decision-name { font-size: 36rpx; font-weight: 700; margin-bottom: 16rpx; }
.decision-actions { display: flex; gap: 16rpx; }
.btn-primary { background: #111; color: #fff; padding: 12rpx 24rpx; border-radius: 12rpx; }
.btn-ghost { background: #f4f4f4; color: #333; padding: 12rpx 24rpx; border-radius: 12rpx; }

/* 备选区（三列，透明背景虚线占位；填充为图片卡片） */
.shortlist { 
  margin-top: 15rpx;      /* 备选区顶部边距 - 可调整与转盘距离 */
  margin-bottom: 20rpx;   /* 备选区底部边距 - 可调整与分享区距离 */
  padding-left: 24rpx;    /* 备选区左边距 */
  padding-right: 24rpx;   /* 备选区右边距 */
  transform: translateY(-115rpx); /* 备选区垂直位移 - 向上移动15rpx（从-100rpx调整为-115rpx） */
}
.short-title { 
  font-size: 28rpx; 
  color: #333; 
  margin-bottom: 12rpx;   /* 标题与卡片间距 - 可调整 */
}
.short-grid { display: grid; gap: 16rpx; }
.short-grid-3 { grid-template-columns: repeat(3, 1fr); }
.short-slot { position: relative; width: 200rpx; height: 200rpx; border-radius: 16rpx; }
.short-slot.placeholder { background: transparent; border: 2rpx solid rgba(0,0,0,0.12); }
.short-slot.filled { overflow: hidden; box-shadow: 0 6rpx 18rpx rgba(0,0,0,0.08); }
.short-slot.selected { 
  box-shadow: 0 6rpx 18rpx rgba(0,0,0,0.08), 0 0 0 4rpx #ffd700, 0 0 0 8rpx rgba(255,215,0,0.3); 
}
.short-img { width: 100%; height: 100%; object-fit: cover; display: block; }
.short-remove { 
  position: absolute; 
  right: 4rpx; 
  top: 4rpx; 
  width: 48rpx; 
  height: 48rpx; 
  font-size: 28rpx; 
  color: #fff; 
  background: rgba(0,0,0,0.6); 
  border-radius: 50%; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  z-index: 2; 
  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.3); 
  backdrop-filter: blur(4rpx); 
  -webkit-backdrop-filter: blur(4rpx); 
}
.offscreen-canvas { position: absolute; width: 1px; height: 1px; left: -9999px; top: -9999px; opacity: 0; }
.xr-hidden { position: absolute; width: 1px; height: 1px; left: -9999px; top: -9999px; opacity: 0; }

/* 分享区（固定底部，图标按钮靠右，3rpx 边距） */
.share-bar { 
  position: fixed; 
  left: 20rpx;            /* 分享区左边距 - 可调整 */
  right: 20rpx;           /* 分享区右边距 - 可调整 */
  bottom: 140rpx;         /* 分享区底部距离 - 可调整垂直位置 */
  padding-top: 18rpx;     /* 分享区顶部内边距 */
  padding-bottom: 18rpx;  /* 分享区底部内边距 */
  padding-left: 20rpx;    /* 分享区左内边距 */
  padding-right: 3rpx;    /* 分享区右内边距 */
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  background: rgba(255,255,255,0.98); 
  border-radius: 24rpx; 
  box-shadow: 0 8rpx 30rpx rgba(0,0,0,0.08); 
  backdrop-filter: blur(20rpx); 
  z-index: 100; 
}
.share-content { flex: 1; margin-right: 16rpx; }
.share-title { font-size: 24rpx; color: #666; display: block; margin-bottom: 4rpx; }
.share-text { font-size: 26rpx; color: #222; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.share-actions { display: flex; gap: 16rpx; margin-right: 3rpx; }
.share-actions image { width: 32rpx; height: 32rpx; } /* 减小分享区icon尺寸 */
.icon-btn { width: 48rpx; height: 48rpx; padding: 8rpx; background: #ffffff; border-radius: 50%; box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.18); border: 2rpx solid #e0e0e0; }
.edge-hand { position: absolute; left: 50%; top: 12rpx; transform: translateX(-50%); width: 120rpx; opacity: .7; z-index: 2; pointer-events: none; }
/* 页面底部安全区（自定义tabBar高度预留） */
.page-bottom-spacer { height: 140rpx; }

/* 调整分享条底部距离，适配更高tabBar */
.share-bar { bottom: 160rpx; }
.hero-area { 
  flex: 1; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  padding-top: -20rpx;     /* 转盘区顶部内边距 - 可调整转盘垂直位置 */
  padding-bottom: 0rpx;  /* 转盘区底部内边距 */
}

/* 添加更多餐厅按钮样式 */
.add-restaurant-section {
  display: flex;
  justify-content: center;
  margin: 0 0 5rpx 0;
  position: relative;
  z-index: 10;
  transform: translateY(-90rpx);
}

.add-restaurant-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 50rpx;
  padding: 24rpx 48rpx;
  font-size: 28rpx;
  font-weight: 600;
  box-shadow: 0 8rpx 24rpx rgba(102, 126, 234, 0.3);
  transition: all 0.3s ease;
}

.add-restaurant-btn::after {
  border: none;
}

.add-restaurant-btn:active {
  transform: translateY(2rpx);
  box-shadow: 0 4rpx 12rpx rgba(102, 126, 234, 0.4);
}
/* 轮盘主题边框与光晕 */
.roulette-wheel.palette-a {
  border: 8rpx solid #94a3b8; /* 冷灰边框，匹配 A 系冷灰盘 */
  box-shadow:
    0 20rpx 40rpx rgba(0,0,0,0.12),
    inset 0 0 0 4rpx rgba(255,255,255,0.3),
    0 0 0 12rpx rgba(148,163,184,0.6); /* 灰蓝外光晕 */
}
.roulette-wheel.palette-f {
  border: 8rpx solid #fbcfe8; /* 樱花粉边框，匹配 F 系柔和彩盘 */
  box-shadow:
    0 20rpx 40rpx rgba(0,0,0,0.12),
    inset 0 0 0 4rpx rgba(255,255,255,0.3),
    0 0 0 12rpx rgba(251,207,232,0.6); /* 粉色外光晕 */
}
.roulette-wheel.palette-g {
  border: 8rpx solid #f59e0b; /* 霓虹暖黄边框，匹配 G 系高对比盘 */
  box-shadow:
    0 20rpx 40rpx rgba(0,0,0,0.12),
    inset 0 0 0 4rpx rgba(255,255,255,0.3),
    0 0 0 12rpx rgba(245,158,11,0.6); /* 暖黄外光晕 */
}
.disabled-banner{position:absolute;left:12rpx;top:10rpx;z-index:6;display:flex;align-items:center;gap:8rpx;padding:8rpx 10rpx;border-radius:12rpx;background:rgba(240,243,246,.9);border:1rpx solid rgba(200,208,216,.7);box-shadow:0 6rpx 16rpx rgba(17,63,95,.08)}
.disabled-banner .icon{width:24rpx;height:24rpx;margin-right:8rpx}
.disabled-banner .msg{font-size:22rpx;color:#667788}
.disabled-banner .dev-tag{font-size:20rpx;color:#9aa8b5;background:rgba(154,168,181,.18);padding:4rpx 8rpx;border-radius:10rpx}
.banner-location{position:absolute;z-index:30}
/* 移除虚线边框并缩小字体，统一美化 */

/* 顶部分享区内部的旧位置删除，保留样式兼容 */
.share-actions .disabled-banner{left:auto;top:auto;position:absolute;display:none}
.share-content { flex: 1; margin-right: 16rpx; }
.share-title { font-size: 24rpx; color: #666; display: block; margin-bottom: 4rpx; }
.share-text { font-size: 26rpx; color: #222; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.share-actions { display: flex; gap: 16rpx; margin-right: 3rpx; }
.share-actions image { width: 32rpx; height: 32rpx; } /* 减小分享区icon尺寸 */
.icon-btn { width: 48rpx; height: 48rpx; padding: 8rpx; background: #ffffff; border-radius: 50%; box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.18); border: 2rpx solid #e0e0e0; }
.edge-hand { position: absolute; left: 50%; top: 12rpx; transform: translateX(-50%); width: 120rpx; opacity: .7; z-index: 2; pointer-events: none; }
/* 页面底部安全区（自定义tabBar高度预留） */
.page-bottom-spacer { height: 140rpx; }

/* 调整分享条底部距离，适配更高tabBar */
.share-bar { bottom: 160rpx; }
.hero-area { 
  flex: 1; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  padding-top: -20rpx;     /* 转盘区顶部内边距 - 可调整转盘垂直位置 */
  padding-bottom: 0rpx;  /* 转盘区底部内边距 */
  padding-left: 24rpx;   /* 转盘区左边距 */
  padding-right: 24rpx;  /* 转盘区右边距 */
}
.disabled-banner{position:absolute;top:16rpx;left:16rpx;display:flex;align-items:center;background:#f0f3f6;color:#9aa8b5;border:1rpx solid #c5d0da;border-radius:12rpx;padding:8rpx 12rpx;opacity:.9}
.disabled-banner .icon{margin-right:8rpx}
.banner-location{z-index:30}