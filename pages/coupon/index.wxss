/* pages/coupon/index.wxss */
/* 高端美食风格，主色 #E74C3C，圆角12px卡片，金色点缀 */

:root { --primary: #E74C3C; --gold: #D4AF37; --text: #1a1a1a; }

.coupon-page { min-height: 100vh; background: linear-gradient(180deg, #3c0d0d 0%, #5a1a1a 30%, #7a2a2a 100%); padding: 24rpx; box-sizing: border-box; }

/* 品牌合作商滚动圆形Logo */
.brand-scroll { display: flex; white-space: nowrap; padding: 12rpx 12rpx; margin-bottom: 12rpx; }
.brand-item { width: 120rpx; height: auto; display: inline-flex; flex-direction: column; align-items: center; justify-content: flex-start; margin-right: 16rpx; }
.brand-item:first-child { margin-left: 12rpx; }
.brand-logo-wrap { width: 120rpx; height: 120rpx; border-radius: 60rpx; background: rgba(255,255,255,0.08); border: 2rpx solid rgba(212,175,55,0.5); box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; overflow: hidden; }
.brand-logo { width: 100%; height: 100%; border-radius: 60rpx; }
.brand-name { margin-top: 8rpx; font-size: 20rpx; font-weight: 700; color: #ffffff; text-shadow: 0 2rpx 4rpx rgba(0,0,0,0.35); letter-spacing: 0.5rpx; }

/* 分类导航：整体上移微调，保持间距比例，不改动卡片内部样式 */
.category-nav { display: flex; gap: 12rpx; padding: 8rpx 4rpx; margin-bottom: 18rpx; flex-wrap: nowrap; overflow-x: hidden; transform: translateY(-8rpx); }
.category-item { padding: 12rpx 20rpx; border-radius: 24rpx; background: rgba(255,255,255,0.08); color: #fff; border: 2rpx solid rgba(255,255,255,0.18); box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15); }
.category-item.active { background: var(--primary); border-color: var(--gold); }
.category-text { font-weight: 700; text-decoration: none; }
.category-item.active .category-text { text-decoration: none; }

/* 优惠领券区 swiper */
/* 仅保留宽度与外边距，具体高度统一在下方唯一处定义 */
.coupon-swiper { width: 100%; height: 560rpx; margin-bottom: 18rpx; }
.coupon-indicators { display: flex; justify-content: center; align-items: center; gap: 10rpx; margin-top: 6rpx; margin-bottom: 14rpx; }
.indicator-dot { width: 10rpx; height: 10rpx; border-radius: 5rpx; background: rgba(255,255,255,0.5); }
.indicator-dot.active { background: #ffffff; }

/* 优惠券展示：大图卡片栅格（2×2网格，每屏4张） */
.grid { display: grid; grid-template-columns: repeat(2, 1fr); grid-gap: 16rpx; margin-bottom: 12rpx; }
.grid-card { position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.grid-bg { width: 100%; height: 220rpx; }
.grid-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 16rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.55) 100%); color: #fff; }
.grid-title { font-size: 28rpx; font-weight: 800; }
/* 新增：品牌主标题左上角定位与样式 */
.brand-title { position: absolute; top: 12rpx; left: 12rpx; font-weight: 900; background: #1E1E1E; color: #FFD166; padding: 8rpx 14rpx; border-radius: 12rpx; letter-spacing: 1rpx; text-transform: none; box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.35); }
.brand-title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans SC', 'Source Han Sans SC', sans-serif; }
.brand-title { font-size: 30rpx; }
/* 标签右上角样式 */
.tag-top-right { position: absolute; top: 12rpx; right: 12rpx; background: rgba(231,76,60,1); }
/* 按钮背景颜色加深 */
.grid-btn { background: #E74C3C; color: #fff; border: none; }
.grid-btn:active { background: #C0392B; }
/* 价格样式保持 */
.grid-price { display: flex; align-items: center; gap: 10rpx; margin-top: 8rpx; }
.price-sale { color:rgb(246, 60, 18); font-weight: 900; font-size: 35rpx; text-shadow: 0 2rpx 4rpx rgba(0,0,0,0.35); }
.price-original { color: rgba(255,255,255,0.7); text-decoration: line-through; font-size: 22rpx; }
.grid-sub { font-size: 22rpx; opacity: 0.9; margin-top: 4rpx; }
.grid-tag { display: inline-block; margin-top: 8rpx; padding: 6rpx 12rpx; border-radius: 12rpx; background: rgba(231,76,60,0.9); color: #fff; font-size: 20rpx; }
.grid-btn { position: absolute; right: 12rpx; bottom: 12rpx; background: var(--primary); color: #fff; border-radius: 20rpx; box-shadow: 0 4rpx 12rpx rgba(231,76,60,0.5); }

/* 横滑小卡片 */
.horizontal-list { white-space: nowrap; padding: 8rpx 0; margin-bottom: 18rpx; }
.h-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.h-bg { width: 100%; height: 100%; }
.h-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.h-title { font-size: 24rpx; font-weight: 700; transform: translateY(-4rpx); }
.h-sub { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; transform: translateY(-2rpx); }
.h-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 附近优惠模块 */
.nearby-section { margin-top: 18rpx; }
.nearby-header { display: flex; align-items: center; justify-content: flex-start; gap: 12rpx; margin-bottom: 8rpx; }
.nearby-title { margin-right: 0; color: #fff; font-weight: 800; }
.banner-location { margin-left: 0; }

/* 未获取位置时的提示占位样式：虚线边框白色文案提示 */
.nearby-placeholder { color: #fff; border: 2rpx dashed rgba(255,255,255,0.8); border-radius: 16rpx; padding: 20rpx; text-align: center; margin: 8rpx 0 18rpx; }

/* 活动横幅移动后，适配顶部与分类标签间距 */
.brand-scroll { margin-bottom: 10rpx; }
.banner-section { margin-top: 12rpx; margin-bottom: 14rpx; transform: translateY(-10rpx); /* 上移微调值：-10rpx，可根据需要改为百分比如 -2% */ }
.category-nav { margin-top: 0; margin-bottom: 16rpx; transform: translateY(-6rpx); }

/* 保持卡片内部样式不变：以下不做更改 */
.banner-location{ display:flex; align-items:center; gap:10rpx; padding:10rpx 14rpx; border-radius:16rpx; background:linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); border:2rpx solid rgba(255,255,255,.8); box-shadow:0 8rpx 24rpx rgba(255,107,107,.3); min-width:120rpx; min-height:48rpx; }
.banner-location.loading{ background:linear-gradient(135deg, #ffa726 0%, #ffcc02 100%); border-color:rgba(255,255,255,.9); box-shadow:0 8rpx 24rpx rgba(255,167,38,.3); }
.banner-location .icon{ width:28rpx; height:28rpx; filter:brightness(0) invert(1); }
.banner-location .msg{ font-size:24rpx; color:#ffffff; font-weight:600; text-shadow:0 1rpx 2rpx rgba(0,0,0,.1); }
.banner-location .loading-dot{ font-size:22rpx; color:#ffffff; animation:loading-pulse 1.5s infinite; }
@keyframes loading-pulse{ 0%,100%{opacity:0.6} 50%{opacity:1} }
.nearby-list { white-space: nowrap; padding: 8rpx 0; }
.nearby-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.nearby-bg { width: 100%; height: 100%; }
.nearby-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.nearby-name { font-size: 24rpx; font-weight: 700; }
.nearby-distance { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; }
.nearby-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 底部活动横幅 - 删除重复大高度定义，统一到上方 */
/* 移除不必要的大外边距，避免产生大面积空白 */
.banner-section { position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); margin-top: 24rpx; }
.banner-bg { width: 100%; height: 240rpx; }
/* 避免点击后出现默认高亮层 */
.grid-card { position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); -webkit-tap-highlight-color: transparent; }
/* 缩小品牌tag整体体积 */
.grid-tag { margin-top: 0; padding: 4rpx 10rpx; border-radius: 10rpx; font-size: 18rpx; }
.tag-top-right { top: 10rpx; right: 10rpx; }
/* 增大商品名称字体 */
.grid-sub { font-size: 30rpx; opacity: 1; margin-top: 6rpx; font-weight: 900; color: #FFF9C4; text-shadow: 1rpx 1rpx 4rpx rgba(0,0,0,0.35); background-color: rgba(72, 51, 51, 0.5); display: -webkit-box; width: 100%; box-sizing: border-box; padding: 8rpx 12rpx; border-radius: 8rpx; line-height: 30rpx; height: 80rpx; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }
/* 移除按钮样式（保留如有其他处复用） */
.grid-btn { display: none; }
.grid-tag { display: inline-block; margin-top: 8rpx; padding: 6rpx 12rpx; border-radius: 12rpx; background: rgba(231,76,60,0.9); color: #fff; font-size: 20rpx; }
.grid-btn { position: absolute; right: 12rpx; bottom: 12rpx; background: var(--primary); color: #fff; border-radius: 20rpx; box-shadow: 0 4rpx 12rpx rgba(231,76,60,0.5); }

/* 横滑小卡片 */
.horizontal-list { white-space: nowrap; padding: 8rpx 0; margin-bottom: 18rpx; }
.h-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.h-bg { width: 100%; height: 100%; }
.h-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.h-title { font-size: 24rpx; font-weight: 700; transform: translateY(-4rpx); }
.h-sub { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; transform: translateY(-2rpx); }
.h-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 附近优惠模块 */
.nearby-section { margin-top: 18rpx; }
.nearby-header { display: flex; align-items: center; justify-content: flex-start; gap: 12rpx; margin-bottom: 8rpx; }
.nearby-title { margin-right: 0; color: #fff; font-weight: 800; }
.banner-location { margin-left: 0; }

/* 未获取位置时的提示占位样式：虚线边框白色文案提示 */
.nearby-placeholder { color: #fff; border: 2rpx dashed rgba(255,255,255,0.8); border-radius: 16rpx; padding: 20rpx; text-align: center; margin: 8rpx 0 18rpx; }

/* 活动横幅移动后，适配顶部与分类标签间距 */
.brand-scroll { margin-bottom: 10rpx; }
.banner-section { margin-top: 12rpx; margin-bottom: 14rpx; transform: translateY(-10rpx); /* 上移微调值：-10rpx，可根据需要改为百分比如 -2% */ }
.category-nav { margin-top: 0; margin-bottom: 16rpx; transform: translateY(-6rpx); }

/* 保持卡片内部样式不变：以下不做更改 */
.banner-location{ display:flex; align-items:center; gap:10rpx; padding:10rpx 14rpx; border-radius:16rpx; background:linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); border:2rpx solid rgba(255,255,255,.8); box-shadow:0 8rpx 24rpx rgba(255,107,107,.3); min-width:120rpx; min-height:48rpx; }
.banner-location.loading{ background:linear-gradient(135deg, #ffa726 0%, #ffcc02 100%); border-color:rgba(255,255,255,.9); box-shadow:0 8rpx 24rpx rgba(255,167,38,.3); }
.banner-location .icon{ width:28rpx; height:28rpx; filter:brightness(0) invert(1); }
.banner-location .msg{ font-size:24rpx; color:#ffffff; font-weight:600; text-shadow:0 1rpx 2rpx rgba(0,0,0,.1); }
.banner-location .loading-dot{ font-size:22rpx; color:#ffffff; animation:loading-pulse 1.5s infinite; }
@keyframes loading-pulse{ 0%,100%{opacity:0.6} 50%{opacity:1} }
.nearby-list { white-space: nowrap; padding: 8rpx 0; }
.nearby-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.nearby-bg { width: 100%; height: 100%; }
.nearby-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.nearby-name { font-size: 24rpx; font-weight: 700; }
.nearby-distance { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; }
.nearby-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 底部活动横幅 - 删除重复大高度定义，统一到上方 */
/* 移除不必要的大外边距，避免产生大面积空白 */
.banner-section { position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); margin-top: 24rpx; }
/* --- Banner bottom overflow fix --- */
.banner-swiper { height: 200rpx; }
.banner-slide { height: 200rpx; line-height: 0; }
.banner-bg { display: block; }
.banner-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 16rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.55) 100%); color: #fff; }
.banner-title { font-size: 28rpx; font-weight: 800; }
.banner-desc { font-size: 22rpx; opacity: 0.9; margin-top: 4rpx; }
.banner-btn { position: absolute; right: 12rpx; bottom: 12rpx; background: var(--gold); color: #3c2f07; border-radius: 20rpx; }

.page-bottom-spacer { height: 140rpx; }
/* 确保平台banner位于最上层 */
.banner-section { position: relative; z-index: 999; }
/* 避免 overlay 拦截点击 */
.banner-overlay, .grid-overlay { pointer-events: none; }
.grid-card, .banner-section { cursor: pointer; }
/* 确保品牌logo正常裁剪 */
.brand-logo-wrap { width: 120rpx; height: 120rpx; border-radius: 60rpx; background: rgba(255,255,255,0.08); border: 2rpx solid rgba(212,175,55,0.5); box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; overflow: hidden; }
.brand-logo { width: 100%; height: 100%; border-radius: 60rpx; }
.brand-name { margin-top: 8rpx; font-size: 20rpx; font-weight: 700; color: #ffffff; text-shadow: 0 2rpx 4rpx rgba(0,0,0,0.35); letter-spacing: 0.5rpx; }

/* 预览主题A对齐修正：顶部品牌与tag同行、商品名底条与价格配色 */
.card-topbar .brand-title {
  position: static !important;
  background: rgba(0,0,0,0.50) !important;
  color: #fff3e6 !important;
  padding: 6rpx 12rpx !important;
  border-radius: 12rpx !important;
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.35) !important;
}
.topbar-tag { background: rgba(212,175,55,0.20) !important; color: #e7c976 !important; border: 2rpx solid rgba(255,255,255,0.15) !important; }

.grid-sub.bottom-name {
  background-color: rgba(0,0,0,0.40) !important;
  color: #f1f5f9 !important;
}

.price-left-bottom .price-sale { color: #ffe5e5 !important; font-weight: 900 !important; }
.price-left-bottom .price-original {
  color: #ffd1d1 !important;
  text-decoration: line-through !important;
  text-decoration-color: rgba(255,255,255,0.85) !important;
  text-decoration-thickness: 2rpx !important;
}

/* 新增卡片结构与旧样式兼容调整 */
/* 卡片容器：保留原有尺寸与外边距 */
.grid-card {
  position: relative;
  width: 330rpx; /* 与上方定义保持一致 */
  height: 270rpx; /* 你设定的卡片整体高度 */
  border-radius: 16rpx;
  overflow: hidden;
  background: #fff;
}

/* 上方2/3大图 */
.card-image {
  width: 100%;
  height: 176rpx; /* 图片区 2/3：280 * 2 / 3 */
  display: block;
}

/* 下方1/3信息区 */
.card-info {
  height: 94rpx; /* 信息区 1/3：280 * 1 / 3 */
  padding: 12rpx 16rpx;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

/* 第一行：品牌（高亮加粗） + 商品名 */
.line1 {
  display: flex;
  align-items: baseline;
  gap: 8rpx;
}
.brand {
  font-weight: 700;
  color: #111;
  font-size: 28rpx;
  line-height: 34rpx;
}
.name {
  flex: 1;
  color: #333;
  font-size: 26rpx;
  line-height: 34rpx;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 第二行：左侧价格，右侧tag顶格 */
.line2 {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.prices {
  display: flex;
  align-items: center;
  gap: 8rpx;
}
.price-sale {
  color: #e12d2d;
  font-weight: 700;
  font-size: 30rpx;
}
.price-original {
  color: #999;
  font-size: 24rpx;
  text-decoration: line-through;
}
.tag {
  color: #666;
  font-size: 22rpx;
}

/* 取消所有文案阴影：确保文本干净呈现 */
.grid-title,
.grid-sub,
.grid-tag,
.bottom-name,
.price-left-bottom {
  text-shadow: none;
}

/* 兼容旧样式，避免残留定位与遮罩 */
.card-topbar,
.grid-bg,
.grid-price {
  display: none;
}
/* 顶部搜索栏 */
.search-bar { display:flex; align-items:center; gap:12rpx; padding: 12rpx 16rpx; border-radius: 24rpx; background: rgba(255,255,255,0.10); border: 2rpx solid rgba(255,255,255,0.18); box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15); margin-bottom: 12rpx; }
.search-icon { width: 28rpx; height: 28rpx; filter: brightness(0) invert(1); }
/* 统一移除点击高亮（蓝色遮罩） */
.banner-section, .banner-swiper, .banner-slide, .banner-bg { -webkit-tap-highlight-color: transparent; }
.search-placeholder { color:#ffffff; font-size: 24rpx; opacity:0.95; }
/* 整体下移当前内容，但保持元素相对位置 */
.brand-scroll { margin-top: 8rpx; }
.h-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.h-bg { width: 100%; height: 100%; }
.h-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.h-title { font-size: 24rpx; font-weight: 700; transform: translateY(-4rpx); }
.h-sub { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; transform: translateY(-2rpx); }
.h-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 附近优惠模块 */
.nearby-section { margin-top: 18rpx; }
.nearby-header { display: flex; align-items: center; justify-content: flex-start; gap: 12rpx; margin-bottom: 8rpx; }
.nearby-title { margin-right: 0; color: #fff; font-weight: 800; }
.banner-location { margin-left: 0; }

/* 未获取位置时的提示占位样式：虚线边框白色文案提示 */
.nearby-placeholder { color: #fff; border: 2rpx dashed rgba(255,255,255,0.8); border-radius: 16rpx; padding: 20rpx; text-align: center; margin: 8rpx 0 18rpx; }

/* 活动横幅移动后，适配顶部与分类标签间距 */
.brand-scroll { margin-bottom: 10rpx; }
.banner-section { margin-top: 12rpx; margin-bottom: 14rpx; transform: translateY(-10rpx); /* 上移微调值：-10rpx，可根据需要改为百分比如 -2% */ }
.category-nav { margin-top: 0; margin-bottom: 16rpx; transform: translateY(-6rpx); }

/* 保持卡片内部样式不变：以下不做更改 */
.banner-location{ display:flex; align-items:center; gap:10rpx; padding:10rpx 14rpx; border-radius:16rpx; background:linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); border:2rpx solid rgba(255,255,255,.8); box-shadow:0 8rpx 24rpx rgba(255,107,107,.3); min-width:120rpx; min-height:48rpx; }
.banner-location.loading{ background:linear-gradient(135deg, #ffa726 0%, #ffcc02 100%); border-color:rgba(255,255,255,.9); box-shadow:0 8rpx 24rpx rgba(255,167,38,.3); }
.banner-location .icon{ width:28rpx; height:28rpx; filter:brightness(0) invert(1); }
.banner-location .msg{ font-size:24rpx; color:#ffffff; font-weight:600; text-shadow:0 1rpx 2rpx rgba(0,0,0,.1); }
.banner-location .loading-dot{ font-size:22rpx; color:#ffffff; animation:loading-pulse 1.5s infinite; }
@keyframes loading-pulse{ 0%,100%{opacity:0.6} 50%{opacity:1} }
.nearby-list { white-space: nowrap; padding: 8rpx 0; }
.nearby-card { display: inline-block; width: 280rpx; height: 220rpx; margin-right: 12rpx; position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); }
.nearby-bg { width: 100%; height: 100%; }
.nearby-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 12rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%); color: #fff; }
.nearby-name { font-size: 24rpx; font-weight: 700; }
.nearby-distance { font-size: 20rpx; opacity: 0.9; margin-top: 2rpx; }
.nearby-btn { position: absolute; right: 10rpx; bottom: 10rpx; background: var(--primary); color: #fff; border-radius: 18rpx; }

/* 底部活动横幅 - 删除重复大高度定义，统一到上方 */
/* 移除不必要的大外边距，避免产生大面积空白 */
.banner-section { position: relative; border-radius: 24rpx; overflow: hidden; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.25); margin-top: 24rpx; }
/* --- Banner bottom overflow fix --- */
.banner-swiper { height: 200rpx; }
.banner-slide { height: 200rpx; line-height: 0; }
.banner-bg { display: block; }
.banner-overlay { position: absolute; left: 0; right: 0; bottom: 0; padding: 16rpx; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.55) 100%); color: #fff; }
.banner-title { font-size: 28rpx; font-weight: 800; }
.banner-desc { font-size: 22rpx; opacity: 0.9; margin-top: 4rpx; }
.banner-btn { position: absolute; right: 12rpx; bottom: 12rpx; background: var(--gold); color: #3c2f07; border-radius: 20rpx; }

.page-bottom-spacer { height: 140rpx; }
/* 确保平台banner位于最上层 */
.banner-section { position: relative; z-index: 999; }
/* 避免 overlay 拦截点击 */
.banner-overlay, .grid-overlay { pointer-events: none; }
.grid-card, .banner-section { cursor: pointer; }
/* 确保品牌logo正常裁剪 */
.brand-logo-wrap { width: 120rpx; height: 120rpx; border-radius: 60rpx; background: rgba(255,255,255,0.08); border: 2rpx solid rgba(212,175,55,0.5); box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; overflow: hidden; }
.brand-logo { width: 100%; height: 100%; border-radius: 60rpx; }
.brand-name { margin-top: 8rpx; font-size: 20rpx; font-weight: 700; color: #ffffff; text-shadow: 0 2rpx 4rpx rgba(0,0,0,0.35); letter-spacing: 0.5rpx; }

/* 预览主题A对齐修正：顶部品牌与tag同行、商品名底条与价格配色 */
.card-topbar .brand-title {
  position: static !important;
  background: rgba(0,0,0,0.50) !important;
  color: #fff3e6 !important;
  padding: 6rpx 12rpx !important;
  border-radius: 12rpx !important;
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.35) !important;
}
.topbar-tag { background: rgba(212,175,55,0.20) !important; color: #e7c976 !important; border: 2rpx solid rgba(255,255,255,0.15) !important; }

.grid-sub.bottom-name {
  background-color: rgba(0,0,0,0.40) !important;
  color: #f1f5f9 !important;
}

.price-left-bottom .price-sale { color: #ffe5e5 !important; font-weight: 900 !important; }
.price-left-bottom .price-original {
  color: #ffd1d1 !important;
  text-decoration: line-through !important;
  text-decoration-color: rgba(255,255,255,0.85) !important;
  text-decoration-thickness: 2rpx !important;
}

/* 新增卡片结构与旧样式兼容调整 */
/* 卡片容器：保留原有尺寸与外边距 */
.grid-card {
  position: relative;
  width: 330rpx; /* 与上方定义保持一致 */
  height: 270rpx; /* 你设定的卡片整体高度 */
  border-radius: 16rpx;
  overflow: hidden;
  background: #fff;
}

/* 上方2/3大图 */
.card-image {
  width: 100%;
  height: 176rpx; /* 图片区 2/3：280 * 2 / 3 */
  display: block;
}

/* 下方1/3信息区 */
.card-info {
  height: 94rpx; /* 信息区 1/3：280 * 1 / 3 */
  padding: 12rpx 16rpx;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 8rpx;
}

/* 第一行：品牌（高亮加粗） + 商品名 */
.line1 {
  display: flex;
  align-items: baseline;
  gap: 8rpx;
}
.brand {
  font-weight: 700;
  color: #111;
  font-size: 28rpx;
  line-height: 34rpx;
}
.name {
  flex: 1;
  color: #333;
  font-size: 26rpx;
  line-height: 34rpx;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 第二行：左侧价格，右侧tag顶格 */
.line2 {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.prices {
  display: flex;
  align-items: center;
  gap: 8rpx;
}
.price-sale {
  color: #e12d2d;
  font-weight: 700;
  font-size: 30rpx;
}
.price-original {
  color: #999;
  font-size: 24rpx;
  text-decoration: line-through;
}
.tag {
  color: #666;
  font-size: 22rpx;
}

/* 取消所有文案阴影：确保文本干净呈现 */
.grid-title,
.grid-sub,
.grid-tag,
.bottom-name,
.price-left-bottom {
  text-shadow: none;
}

/* 兼容旧样式，避免残留定位与遮罩 */
.card-topbar,
.grid-bg,
.grid-price {
  display: none;
}
.category-nav {
  position: relative;
}
.refresh-image {
  position: absolute;
  right: 225rpx;
  top: 50%;
  transform: translateY(-50%);
  width: 65rpx;
  height: 65rpx;
  opacity: 0.92;
}
.refresh-image:active { opacity: 1; }

/* 刷新时的平滑过渡：轻微淡入 */
.coupon-section.refreshing {
  animation: fadeRefresh 0.18s ease-in-out;
}
@keyframes fadeRefresh {
  0% { opacity: 0.3; }
  100% { opacity: 1; }
}
.refresh-image.spinning {
  animation: spinRefresh 0.8s linear infinite;
}
@keyframes spinRefresh {
  0% { transform: translateY(-50%) rotate(0deg); }
  100% { transform: translateY(-50%) rotate(360deg); }
}

/* 纯图片卡片专用样式：让图片充满卡片容器，去除底部白色信息区空间 */
.grid-card.image-only {
  width: 330rpx;
  height: 270rpx;
  background: transparent; /* 避免白底露出 */
}
.card-image.image-only {
  width: 100%;
  height: 270rpx; /* 与容器一致，填满整个卡片 */
  display: block;
}